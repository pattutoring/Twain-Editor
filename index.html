<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Twain Editor</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: "Courier New", monospace;
    background-color: #fdf6e3;
    margin: 20px;
  }

  h1 {
    text-align: center;
    font-size: 2.5em;
    margin-bottom: 20px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
  }

  .editor-container {
    max-width: 900px;
    margin: auto;
    background-color: #fdf6e3;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }

  textarea {
    width: 100%;
    height: 500px;
    font-family: "Courier New", monospace;
    font-size: 16px;
    padding: 15px;
    border-radius: 8px;
    border: none;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    resize: none;
    outline: none;
    background-color: white;
    line-height: 1.5;
    white-space: pre-wrap;
  }

  button {
    margin-top: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #0074D9;
    color: white;
    border: none;
    border-radius: 8px;
    transition: background 0.2s ease;
  }

  button:hover { background-color: #005fa3; }

  .feedback {
    margin-top: 20px;
    font-style: italic;
    color: #555;
    background-color: #fff8d6;
    padding: 15px;
    border-left: 4px solid #ffcc00;
    border-radius: 8px;
  }
</style>
</head>
<body>
<h1>Twain Editor</h1>
<div id="editor-container"></div>

<!-- Load React and ReactDOM UMD builds -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

<script>
const e = React.createElement;

function TwainStudentEditor() {
  const [text, setText] = React.useState("");
  const [feedback, setFeedback] = React.useState([]);

  const rules = [
    { rule: "Avoid fancy words", test: t => /\b(utilize|commence|ascertain|ameliorate|endeavor|employ)\b/i.test(t), message: "Use simpler words." },
    { rule: "Be cautious with adjectives", test: t => /\b\w+ly\b/i.test(t), message: "Too many adjectives/adverbs." },
    { rule: "Substitute 'damn' for 'very'", test: t => /\bvery\b/i.test(t), message: "Consider 'damn' instead of 'very'." },
    { rule: "Avoid almost right", test: t => /\balmost right\b/i.test(t), message: "Choose the precise word." },
    { rule: "Avoid alliteration", test: t => /\b(\w)\w*\s+\1\w*\b/i.test(t), message: "Alliteration detected." },
    { rule: "Avoid clichés", test: t => /\b(once in a lifetime|at the end of the day|in the nick of time|old hat)\b/i.test(t), message: "Replace clichés with original phrasing." },
    { rule: "Avoid redundancy", test: t => /\b(redundant|unnecessary|superfluous|obfuscates)\b/i.test(t), message: "Remove redundant words." },
    { rule: "Avoid rhetorical questions", test: t => /\?\s*$/.test(t), message: "Rhetorical question detected." },
    { rule: "Avoid exaggeration", test: t => /\b(nearly|extremely|tremendously|huge|gigantic)\b/i.test(t), message: "Exaggeration detected." }
  ];

  const analyze = () => {
    const found = rules.filter(r => r.test(text));
    setFeedback(found);
  };

  const wordCount = text.trim() ? text.trim().split(/\s+/).length : 0;

  return e('div', { className: 'editor-container' }, 
    e('textarea', {
      placeholder: "Write like Twain would...",
      value: text,
      onChange: e => setText(e.target.value)
    }),
    e('div', { style: { display: "flex", justifyContent: "space-between", marginTop: "10px" } },
      e('p', null, `Word count: ${wordCount}`),
      e('button', { onClick: analyze }, 'Analyze')
    ),
    feedback.length > 0 && e('div', { className: 'feedback' }, feedback.map((f,i) => e('div', { key:i }, f.message)))
  );
}

const container = document.getElementById('editor-container');
const root = ReactDOM.createRoot(container);
root.render(e(TwainStudentEditor));
</script>

</body>
</html>
